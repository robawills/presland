!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.$=t()}(this,function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=new Function("return this")(),n=function(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[r];return n},r=function(e,t,n){var r=e.length;if(void 0!==r&&void 0===e.nodeType)for(var i=0;i<r;i++)t.call(n,e[i],i,e);else t.call(n,e,0,e);return e},i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)e[n]=t[n]}),e},o=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})},u=!1,s=/^\s*<(\w+|!)[^>]*>/,c=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,f=/^[\.#]?[\w-]*$/,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=void 0;if(e){if(e instanceof m)return e;"string"!=typeof e?n=e.nodeType||e===window?[e]:e:s.test(e)?n=p(e):(t="string"==typeof t?document.querySelector(t):t.length?t[0]:t,n=h(e,t))}else n=document.querySelectorAll(null);return v(n)},l=function(e){var t=[];return r(this,function(n){return r(h(e,n),function(e){t.indexOf(e)===-1&&t.push(e)})}),a(t)},d=function(){var e="undefined"!=typeof Element?Element.prototype:t,n=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return function(e,t){return n.call(e,t)}}(),h=function(e,t){var n=f.test(e);if(n){if("#"===e[0]){var r=(t.getElementById?t:document).getElementById(e.slice(1));return r?[r]:[]}return"."===e[0]?t.getElementsByClassName(e.slice(1)):t.getElementsByTagName(e)}return t.querySelectorAll(e)},p=function(e){if(c.test(e))return[document.createElement(RegExp.$1)];var t=[],n=document.createElement("div"),r=n.childNodes;n.innerHTML=e;for(var i=0,o=r.length;i<o;i++)t.push(r[i]);return t},v=function(e){return u||(m.prototype=a.fn,m.prototype.constructor=m,u=!0),new m(e)},m=function(e){for(var t=0,n=e.length;t<n;)this[t]=e[t++];this.length=n},y=Object.freeze({$:a,find:l,matches:d,Wrapper:m}),b=Array.prototype,g=function(e){var t=this.length;if(void 0!==t&&void 0===this.nodeType)for(var n=0;n<t;n++)e.call(this[n],n,this[n]);else e.call(this,0,this);return this},E=g,N=function(e){var t="function"==typeof e?function(t,n){return e.call(t,n,t)}:function(t){return d(t,e)};return a(b.filter.call(this,t))},C=b.indexOf,O=function(e){return a(b.map.call(this,function(t,n){return e.call(t,n,t)}))},T=function(){return a(n(this).reverse())},j=b.some,w=Object.freeze({each:g,forEach:E,filter:N,index:C,map:O,reverse:T,some:j}),A=function(t){var n=function t(){e(this,t),m.call(this,a.apply(void 0,arguments))};return i(n.prototype,t),n},L=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},z=function(e){return e.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})},D=function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},_=function(e,t){var n=void 0,i=void 0,o=void 0;if("string"==typeof e){if(e=z(e),"undefined"==typeof t){var u=this.nodeType?this:this[0];if(u)return o=u.style[e],L(o)?parseFloat(o):o;return}n={},n[e]=t}else{n=e;for(i in n)o=n[i],delete n[i],n[z(i)]=o}return r(this,function(e){for(i in n)n[i]||0===n[i]?e.style[i]=n[i]:e.style.removeProperty(D(i))}),this},M=Object.freeze({css:_}),S=Array.prototype.forEach,x=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("beforeend",e);else if(e instanceof Node)this.appendChild(e);else{var t=e instanceof NodeList?n(e):e;S.call(t,this.appendChild.bind(this))}else k(this,x,e);return this},P=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("afterbegin",e);else if(e instanceof Node)this.insertBefore(e,this.firstChild);else{var t=e instanceof NodeList?n(e):e;S.call(t.reverse(),P.bind(this))}else k(this,P,e);return this},H=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("beforebegin",e);else if(e instanceof Node)this.parentNode.insertBefore(e,this);else{var t=e instanceof NodeList?n(e):e;S.call(t,H.bind(this))}else k(this,H,e);return this},I=function(e){if(this instanceof Node)if("string"==typeof e)this.insertAdjacentHTML("afterend",e);else if(e instanceof Node)this.parentNode.insertBefore(e,this.nextSibling);else{var t=e instanceof NodeList?n(e):e;S.call(t.reverse(),I.bind(this))}else k(this,I,e);return this},$=function(){return a(B(this))},B=function(e){return"string"==typeof e?e:e instanceof Node?e.cloneNode(!0):"length"in e?[].map.call(e,function(e){return e.cloneNode(!0)}):e},k=function(e,t,n){for(var r=e.length;r--;){var i=0===r?n:B(n);t.call(e[r],i)}},F=Object.freeze({append:x,prepend:P,before:H,after:I,clone:$,_clone:B,_each:k}),q=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n?n.getAttribute(e):void 0}return r(this,function(n){if("object"==typeof e)for(var r in e)n.setAttribute(r,e[r]);else n.setAttribute(e,t)})},U=function(e){return r(this,function(t){return t.removeAttribute(e)})},W=Object.freeze({attr:q,removeAttr:U}),K=function(e){return e&&e.length&&r(e.split(" "),J.bind(this,"add")),this},R=function(e){return e&&e.length&&r(e.split(" "),J.bind(this,"remove")),this},Z=function(e){return e&&e.length&&r(e.split(" "),J.bind(this,"toggle")),this},G=function(e){return(this.nodeType?[this]:this).some(function(t){return t.classList.contains(e)})},J=function(e,t){return r(this,function(n){return n.classList[e](t)})},Q=Object.freeze({addClass:K,removeClass:R,toggleClass:Z,hasClass:G}),V=function(e,t){return!(!e||!t||e===t)&&(e.contains?e.contains(t):!!e.compareDocumentPosition&&!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_DISCONNECTED))},X=Object.freeze({contains:V}),Y="__DOMTASTIC_DATA__",ee=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n&&n[Y]?n[Y][e]:void 0}return r(this,function(n){n[Y]=n[Y]||{},n[Y][e]=t})},te=function(e,t){if("string"==typeof e&&"undefined"==typeof t){var n=this.nodeType?this:this[0];return n&&n?n[e]:void 0}return r(this,function(n){return n[e]=t})},ne=Object.freeze({data:ee,prop:te}),re=function(e){var t="string"==typeof e?a(e):e;return x.call(t,this),this},ie=function(){return r(this,function(e){return e.innerHTML=""})},oe=function(){return r(this,function(e){e.parentNode&&e.parentNode.removeChild(e)})},ue=function(){return H.apply(this,arguments).remove()},se=function(e){return void 0===e?this[0].textContent:r(this,function(t){return t.textContent=""+e})},ce=function(e){return void 0===e?this[0].value:r(this,function(t){return t.value=e})},fe=Object.freeze({appendTo:re,empty:ie,remove:oe,replaceWith:ue,text:se,val:ce}),ae=function(e){if("string"!=typeof e){var t=this.nodeType?this:this[0];return t?t.innerHTML:void 0}return r(this,function(t){return t.innerHTML=e})},le=Object.freeze({html:ae}),de=function(){var e=function(e,t){var n=[];return r(this,function(r){for(;r&&r!==t;){if(d(r,e)){n.push(r);break}r=r.parentElement}}),a(o(n))};return"undefined"!=typeof Element&&Element.prototype.closest?function(t,n){var i=this;if(n)return e.call(this,t,n);var u=function(){var e=[];return r(i,function(n){var r=n.closest(t);r&&e.push(r)}),{v:a(o(e))}}();return"object"==typeof u?u.v:void 0}:e}(),he=Object.freeze({closest:de}),pe=void 0,ve=function(e,t,n,i,o){var u=this;"function"==typeof t&&(n=t,t=null);var s=void 0,c=void 0,f=void 0;return e.split(" ").forEach(function(a){s=a.split("."),a=s[0]||null,c=s[1]||null,f=Te(n),r(u,function(r){t&&(f=ze.bind(r,t,f)),o&&!function(){var o=f;f=function(u){me.call(r,e,t,n,i),o.call(r,u)}}(),r.addEventListener(a,f,i||!1),Ce(r).push({eventName:a,handler:n,eventListener:f,selector:t,namespace:c})})},this),this},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=this,i=arguments[2],o=arguments[3];"function"==typeof t&&(i=t,t=null);var u=void 0,s=void 0,c=void 0;return e.split(" ").forEach(function(e){return u=e.split("."),e=u[0]||null,s=u[1]||null,r(n,function(n){c=Ce(n),r(c.filter(function(n){return!(e&&n.eventName!==e||s&&n.namespace!==s||i&&n.handler!==i||t&&n.selector!==t)}),function(e){n.removeEventListener(e.eventName,e.eventListener,o||!1),c.splice(c.indexOf(e),1)}),e||s||t||i?0===c.length&&Oe(n):Oe(n)})},this),this},ye=function(e,t,n,r){return ve.call(this,e,t,n,r,1)},be="__domtastic_event__",ge=1,Ee={},Ne=[],Ce=function(e){e[be]||(e[be]=0===Ne.length?++ge:Ne.pop());var t=e[be];return Ee[t]||(Ee[t]=[])},Oe=function(e){var t=e[be];Ee[t]&&(Ee[t]=null,e[be]=null,Ne.push(t))},Te=function(e){return function(t){return e.call(this,Le(t))}},je={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},we=function(){return!0},Ae=function(){return!1},Le=function(e){if(!e.isDefaultPrevented||e.stopImmediatePropagation||e.stopPropagation){for(var t in je)!function(t,n,r){e[t]=function(){return this[n]=we,r&&r.apply(this,arguments)},e[n]=Ae}(t,je[t],e[t]);e._preventDefault&&e.preventDefault()}return e},ze=function(e,t,n){var r=n._target||n.target,i=de.call([r],e,pe)[0];i&&i!==pe&&(i!==r&&n.isPropagationStopped&&n.isPropagationStopped()||t.call(i,n))},De=ve,_e=me,Me=Object.freeze({on:ve,off:me,one:ye,getHandlers:Ce,clearHandlers:Oe,proxyHandler:Te,delegateHandler:ze,bind:De,unbind:_e}),Se=/^(?:mouse|pointer|contextmenu)|click/,xe=/^key/,Pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.bubbles,o=void 0===i||i,u=n.cancelable,s=void 0===u||u,c=n.preventDefault,f=void 0!==c&&c,a=He(e),l=new a(e,{bubbles:o,cancelable:s,preventDefault:f,detail:t});return l._preventDefault=f,r(this,function(n){!o||qe||$e(n)?Fe(n,l):Be(n,e,{bubbles:o,cancelable:s,preventDefault:f,detail:t})})},He=function(e){return Ue?Se.test(e)?MouseEvent:xe.test(e)?KeyboardEvent:CustomEvent:CustomEvent},Ie=function(e,t){this[0]&&Pe.call(this[0],e,t,{bubbles:!1,preventDefault:!0})},$e=function(e){return e===window||e===document||V(e.ownerDocument.documentElement,e)},Be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.bubbles=!1;var r=new CustomEvent(t,n);r._target=e;do Fe(e,r);while(e=e.parentNode)},ke=["blur","focus","select","submit"],Fe=function(e,t){ke.indexOf(t.type)===-1||"function"!=typeof e[t.type]||t._preventDefault||t.cancelable?e.dispatchEvent(t):e[t.type]()};!function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=t.CustomEvent&&t.CustomEvent.prototype,t.CustomEvent=e}();var qe=function(){var e=!1,n=t.document;if(n){var r=n.createElement("div"),i=r.cloneNode();r.appendChild(i),r.addEventListener("e",function(){e=!0}),i.dispatchEvent(new CustomEvent("e",{bubbles:!0}))}return e}(),Ue=function(){try{new window.MouseEvent("click")}catch(e){return!1}return!0}(),We=Object.freeze({trigger:Pe,triggerHandler:Ie}),Ke=function(e){return/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",e,!1),this},Re=Object.freeze({ready:Ke}),Ze=t.$,Ge=function(){return t.$=Ze,this},Je=Object.freeze({noConflict:Ge}),Qe=function(e){var t=[];return r(this,function(n){n.children&&r(n.children,function(n){(!e||e&&d(n,e))&&t.push(n)})}),a(t)},Ve=function(){var e=[];return r(this,function(t){return e.push.apply(e,n(t.childNodes))}),a(e)},Xe=function(e){return nt.call(this,e,e+1)},Ye=function(e){return this[e]},et=function(e){var t=[];return r(this,function(n){(!e||e&&d(n.parentNode,e))&&t.push(n.parentNode)}),a(t)},tt=function(e){var t=[];return r(this,function(n){return r(n.parentNode.children,function(r){r!==n&&(!e||e&&d(r,e))&&t.push(r)})}),a(t)},nt=function(e,t){return a([].slice.apply(this,arguments))},rt=Object.freeze({children:Qe,contents:Ve,eq:Xe,get:Ye,parent:et,siblings:tt,slice:nt}),it=function(e){return"function"==typeof e},ot=Array.isArray,ut=Object.freeze({isFunction:it,isArray:ot}),st={},ct={};"undefined"!=typeof y&&(ct=a,ct.matches=d,st.find=l),i(ct,X,Je,ut),i(st,w,M,W,F,Q,ne,fe,le,Me,We,Re,he,rt),ct.fn=st,ct.version="0.12.3",ct.extend=i,"undefined"!=typeof A&&(ct.BaseClass=A(ct.fn));var ft=ct;return ft});
