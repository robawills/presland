(function(a){'use strict';function b(w){if('string'!=typeof w&&(w+=''),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(w))throw new TypeError('Invalid character in header field name');return w.toLowerCase()}function c(w){return'string'!=typeof w&&(w+=''),w}function d(w){var x={next:function next(){var y=w.shift();return{done:void 0===y,value:y}}};return q.iterable&&(x[Symbol.iterator]=function(){return x}),x}function f(w){this.map={},w instanceof f?w.forEach(function(x,y){this.append(y,x)},this):w&&Object.getOwnPropertyNames(w).forEach(function(x){this.append(x,w[x])},this)}function g(w){return w.bodyUsed?Promise.reject(new TypeError('Already read')):void(w.bodyUsed=!0)}function h(w){return new Promise(function(x,y){w.onload=function(){x(w.result)},w.onerror=function(){y(w.error)}})}function i(w){var x=new FileReader;return x.readAsArrayBuffer(w),h(x)}function j(w){var x=new FileReader;return x.readAsText(w),h(x)}function k(){return this.bodyUsed=!1,this._initBody=function(w){if(this._bodyInit=w,'string'==typeof w)this._bodyText=w;else if(q.blob&&Blob.prototype.isPrototypeOf(w))this._bodyBlob=w;else if(q.formData&&FormData.prototype.isPrototypeOf(w))this._bodyFormData=w;else if(q.searchParams&&URLSearchParams.prototype.isPrototypeOf(w))this._bodyText=w.toString();else if(!w)this._bodyText='';else if(q.arrayBuffer&&q.blob&&s(w))this._bodyInit=new Blob([w.buffer]);else if(q.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||t(w)));else throw new Error('unsupported BodyInit type');this.headers.get('content-type')||('string'==typeof w?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):q.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},q.blob?(this.blob=function(){var w=g(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error('could not read FormData body as blob');else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var w=g(this);if(w)return w;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyFormData)throw new Error('could not read FormData body as text');else return Promise.resolve(this._bodyText)}):this.text=function(){var w=g(this);return w?w:Promise.resolve(this._bodyText)},q.formData&&(this.formData=function(){return this.text().then(n)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(w){var x=w.toUpperCase();return-1<u.indexOf(x)?x:w}function m(w,x){x=x||{};var y=x.body;if('string'==typeof w)this.url=w;else{if(w.bodyUsed)throw new TypeError('Already read');this.url=w.url,this.credentials=w.credentials,x.headers||(this.headers=new f(w.headers)),this.method=w.method,this.mode=w.mode,y||null==w._bodyInit||(y=w._bodyInit,w.bodyUsed=!0)}if(this.credentials=x.credentials||this.credentials||'omit',(x.headers||!this.headers)&&(this.headers=new f(x.headers)),this.method=l(x.method||this.method||'GET'),this.mode=x.mode||this.mode||null,this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&y)throw new TypeError('Body not allowed for GET or HEAD requests');this._initBody(y)}function n(w){var x=new FormData;return w.trim().split('&').forEach(function(y){if(y){var z=y.split('='),A=z.shift().replace(/\+/g,' '),B=z.join('=').replace(/\+/g,' ');x.append(decodeURIComponent(A),decodeURIComponent(B))}}),x}function o(w){var x=new f;return w.split('\r\n').forEach(function(y){var z=y.split(':'),A=z.shift().trim();if(A){var B=z.join(':').trim();x.append(A,B)}}),x}function p(w,x){x||(x={}),this.type='default',this.status='status'in x?x.status:200,this.ok=200<=this.status&&300>this.status,this.statusText='statusText'in x?x.statusText:'OK',this.headers=new f(x.headers),this.url=x.url||'',this._initBody(w)}if(!a.fetch){var q={searchParams:'URLSearchParams'in a,iterable:'Symbol'in a&&'iterator'in Symbol,blob:'FileReader'in a&&'Blob'in a&&function(){try{return new Blob,!0}catch(w){return!1}}(),formData:'FormData'in a,arrayBuffer:'ArrayBuffer'in a};if(q.arrayBuffer)var r=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],s=function(w){return w&&DataView.prototype.isPrototypeOf(w)},t=ArrayBuffer.isView||function(w){return w&&-1<r.indexOf(Object.prototype.toString.call(w))};f.prototype.append=function(w,x){w=b(w),x=c(x);var y=this.map[w];y||(y=[],this.map[w]=y),y.push(x)},f.prototype['delete']=function(w){delete this.map[b(w)]},f.prototype.get=function(w){var x=this.map[b(w)];return x?x[0]:null},f.prototype.getAll=function(w){return this.map[b(w)]||[]},f.prototype.has=function(w){return this.map.hasOwnProperty(b(w))},f.prototype.set=function(w,x){this.map[b(w)]=[c(x)]},f.prototype.forEach=function(w,x){Object.getOwnPropertyNames(this.map).forEach(function(y){this.map[y].forEach(function(z){w.call(x,z,y,this)},this)},this)},f.prototype.keys=function(){var w=[];return this.forEach(function(x,y){w.push(y)}),d(w)},f.prototype.values=function(){var w=[];return this.forEach(function(x){w.push(x)}),d(w)},f.prototype.entries=function(){var w=[];return this.forEach(function(x,y){w.push([y,x])}),d(w)},q.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var u=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},k.call(m.prototype),k.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},p.error=function(){var w=new p(null,{status:0,statusText:''});return w.type='error',w};var v=[301,302,303,307,308];p.redirect=function(w,x){if(-1===v.indexOf(x))throw new RangeError('Invalid status code');return new p(null,{status:x,headers:{location:w}})},a.Headers=f,a.Request=m,a.Response=p,a.fetch=function(w,x){return new Promise(function(y,z){var A=new m(w,x),B=new XMLHttpRequest;B.onload=function(){var C={status:B.status,statusText:B.statusText,headers:o(B.getAllResponseHeaders()||'')};C.url='responseURL'in B?B.responseURL:C.headers.get('X-Request-URL');var D='response'in B?B.response:B.responseText;y(new p(D,C))},B.onerror=function(){z(new TypeError('Network request failed'))},B.ontimeout=function(){z(new TypeError('Network request failed'))},B.open(A.method,A.url,!0),'include'===A.credentials&&(B.withCredentials=!0),'responseType'in B&&q.blob&&(B.responseType='blob'),A.headers.forEach(function(C,D){B.setRequestHeader(D,C)}),B.send('undefined'==typeof A._bodyInit?null:A._bodyInit)})},a.fetch.polyfill=!0}})('undefined'==typeof self?this:self);