var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};!function(j,k){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(q){return k(j,q)}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=k(j,require("jquery")):j.jQueryBridget=k(j,j.jQuery)}(window,function(j,k){"use strict";function q(D,F,G){function H(J,K,L){var M,N="$()."+D+"(\""+K+"\")";return J.each(function(O,P){var Q=G.data(P,D);if(!Q)return void C(D+" not initialized. Cannot call methods, i.e. "+N);var R=Q[K];if(!R||"_"==K.charAt(0))return void C(N+" is not a valid method");var S=R.apply(Q,L);M=void 0==M?S:M}),void 0===M?J:M}function I(J,K){J.each(function(L,M){var N=G.data(M,D);N?(N.option(K),N._init()):(N=new F(M,K),G.data(M,D,N))})}G=G||k||j.jQuery,G&&(F.prototype.option||(F.prototype.option=function(J){G.isPlainObject(J)&&(this.options=G.extend(!0,this.options,J))}),G.fn[D]=function(J){if("string"==typeof J){var K=A.call(arguments,1);return H(this,J,K)}return I(this,J),this},w(G))}function w(D){!D||D&&D.bridget||(D.bridget=q)}var A=Array.prototype.slice,B=j.console,C="undefined"==typeof B?function(){}:function(D){B.error(D)};return w(k||j.jQuery),q}),function(j,k){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",k):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=k():j.EvEmitter=k()}("undefined"==typeof window?this:window,function(){function j(){}var k=j.prototype;return k.on=function(q,w){if(q&&w){var A=this._events=this._events||{},B=A[q]=A[q]||[];return-1==B.indexOf(w)&&B.push(w),this}},k.once=function(q,w){if(q&&w){this.on(q,w);var A=this._onceEvents=this._onceEvents||{},B=A[q]=A[q]||{};return B[w]=!0,this}},k.off=function(q,w){var A=this._events&&this._events[q];if(A&&A.length){var B=A.indexOf(w);return-1!=B&&A.splice(B,1),this}},k.emitEvent=function(q,w){var A=this._events&&this._events[q];if(A&&A.length){var B=0,C=A[B];w=w||[];for(var F,D=this._onceEvents&&this._onceEvents[q];C;)F=D&&D[C],F&&(this.off(q,C),delete D[C]),C.apply(this,w),B+=F?0:1,C=A[B];return this}},j}),function(j,k){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return k()}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=k():j.getSize=k()}(window,function(){"use strict";function j(I){var J=parseFloat(I),K=-1==I.indexOf("%")&&!isNaN(J);return K&&J}function q(){for(var K,I={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},J=0;G>J;J++)K=F[J],I[K]=0;return I}function w(I){var J=getComputedStyle(I);return J||D("Style returned "+J+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),J}function A(){if(!H){H=!0;var I=document.createElement("div");I.style.width="200px",I.style.padding="1px 2px 3px 4px",I.style.borderStyle="solid",I.style.borderWidth="1px 2px 3px 4px",I.style.boxSizing="border-box";var J=document.body||document.documentElement;J.appendChild(I);var K=w(I);B.isBoxSizeOuter=C=200==j(K.width),J.removeChild(I)}}function B(I){if(A(),"string"==typeof I&&(I=document.querySelector(I)),I&&"object"==("undefined"==typeof I?"undefined":_typeof(I))&&I.nodeType){var J=w(I);if("none"==J.display)return q();for(var K={width:I.offsetWidth,height:I.offsetHeight},L=K.isBorderBox="border-box"==J.boxSizing,M=0;G>M;M++){var N=F[M],O=J[N],P=parseFloat(O);K[N]=isNaN(P)?0:P}var Q=K.paddingLeft+K.paddingRight,R=K.paddingTop+K.paddingBottom,S=K.marginLeft+K.marginRight,T=K.marginTop+K.marginBottom,U=K.borderLeftWidth+K.borderRightWidth,V=K.borderTopWidth+K.borderBottomWidth,W=L&&C,X=j(J.width);!1!==X&&(K.width=X+(W?0:Q+U));var Y=j(J.height);return!1!==Y&&(K.height=Y+(W?0:R+V)),K.innerWidth=K.width-(Q+U),K.innerHeight=K.height-(R+V),K.outerWidth=K.width+S,K.outerHeight=K.height+T,K}}var C,D="undefined"==typeof console?function(){}:function(I){console.error(I)},F=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],G=F.length,H=!1;return B}),function(j,k){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",k):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=k():j.matchesSelector=k()}(window,function(){"use strict";var j=function(){var k=Element.prototype;if(k.matches)return"matches";if(k.matchesSelector)return"matchesSelector";for(var q=["webkit","moz","ms","o"],w=0;w<q.length;w++){var A=q[w],B=A+"MatchesSelector";if(k[B])return B}}();return function(k,q){return k[j](q)}}),function(j,k){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(q){return k(j,q)}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=k(j,require("desandro-matches-selector")):j.fizzyUIUtils=k(j,j.matchesSelector)}(window,function(j,k){var q={};q.extend=function(A,B){for(var C in B)A[C]=B[C];return A},q.modulo=function(A,B){return(A%B+B)%B},q.makeArray=function(A){var B=[];if(Array.isArray(A))B=A;else if(A&&"number"==typeof A.length)for(var C=0;C<A.length;C++)B.push(A[C]);else B.push(A);return B},q.removeFrom=function(A,B){var C=A.indexOf(B);-1!=C&&A.splice(C,1)},q.getParent=function(A,B){for(;A!=document.body;)if(A=A.parentNode,k(A,B))return A},q.getQueryElement=function(A){return"string"==typeof A?document.querySelector(A):A},q.handleEvent=function(A){var B="on"+A.type;this[B]&&this[B](A)},q.filterFindElements=function(A,B){A=q.makeArray(A);var C=[];return A.forEach(function(D){if(D instanceof HTMLElement){if(!B)return void C.push(D);k(D,B)&&C.push(D);for(var F=D.querySelectorAll(B),G=0;G<F.length;G++)C.push(F[G])}}),C},q.debounceMethod=function(A,B,C){var D=A.prototype[B],F=B+"Timeout";A.prototype[B]=function(){var G=this[F];G&&clearTimeout(G);var H=arguments,I=this;this[F]=setTimeout(function(){D.apply(I,H),delete I[F]},C||100)}},q.docReady=function(A){var B=document.readyState;"complete"==B||"interactive"==B?A():document.addEventListener("DOMContentLoaded",A)},q.toDashed=function(A){return A.replace(/(.)([A-Z])/g,function(B,C,D){return C+"-"+D}).toLowerCase()};var w=j.console;return q.htmlInit=function(A,B){q.docReady(function(){var C=q.toDashed(B),D="data-"+C,F=document.querySelectorAll("["+D+"]"),G=document.querySelectorAll(".js-"+C),H=q.makeArray(F).concat(q.makeArray(G)),J=j.jQuery;H.forEach(function(K){var L,M=K.getAttribute(D)||K.getAttribute(D+"-options");try{L=M&&JSON.parse(M)}catch(O){return void(w&&w.error("Error parsing "+D+" on "+K.className+": "+O))}var N=new A(K,L);J&&J.data(K,B,N)})})},q}),function(j,k){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],k):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=k(require("ev-emitter"),require("get-size")):(j.Outlayer={},j.Outlayer.Item=k(j.EvEmitter,j.getSize))}(window,function(j,k){"use strict";function q(L){for(var M in L)return!1;return M=null,!0}function w(L,M){L&&(this.element=L,this.layout=M,this.position={x:0,y:0},this._create())}var B=document.documentElement.style,C="string"==typeof B.transition?"transition":"WebkitTransition",D="string"==typeof B.transform?"transform":"WebkitTransform",F={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[C],G={transform:D,transition:C,transitionDuration:C+"Duration",transitionProperty:C+"Property",transitionDelay:C+"Delay"},H=w.prototype=Object.create(j.prototype);H.constructor=w,H._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},H.handleEvent=function(L){var M="on"+L.type;this[M]&&this[M](L)},H.getSize=function(){this.size=k(this.element)},H.css=function(L){var M=this.element.style;for(var N in L){var O=G[N]||N;M[O]=L[N]}},H.getPosition=function(){var L=getComputedStyle(this.element),M=this.layout._getOption("originLeft"),N=this.layout._getOption("originTop"),O=L[M?"left":"right"],P=L[N?"top":"bottom"],Q=this.layout.size,R=-1==O.indexOf("%")?parseInt(O,10):parseFloat(O)/100*Q.width,S=-1==P.indexOf("%")?parseInt(P,10):parseFloat(P)/100*Q.height;R=isNaN(R)?0:R,S=isNaN(S)?0:S,R-=M?Q.paddingLeft:Q.paddingRight,S-=N?Q.paddingTop:Q.paddingBottom,this.position.x=R,this.position.y=S},H.layoutPosition=function(){var L=this.layout.size,M={},N=this.layout._getOption("originLeft"),O=this.layout._getOption("originTop"),P=N?"paddingLeft":"paddingRight",Q=N?"left":"right",R=N?"right":"left",S=this.position.x+L[P];M[Q]=this.getXValue(S),M[R]="";var T=O?"paddingTop":"paddingBottom",U=O?"top":"bottom",V=O?"bottom":"top",W=this.position.y+L[T];M[U]=this.getYValue(W),M[V]="",this.css(M),this.emitEvent("layout",[this])},H.getXValue=function(L){var M=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!M?100*(L/this.layout.size.width)+"%":L+"px"},H.getYValue=function(L){var M=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&M?100*(L/this.layout.size.height)+"%":L+"px"},H._transitionTo=function(L,M){this.getPosition();var N=this.position.x,O=this.position.y,P=parseInt(L,10),Q=parseInt(M,10),R=P===this.position.x&&Q===this.position.y;if(this.setPosition(L,M),R&&!this.isTransitioning)return void this.layoutPosition();var U={};U.transform=this.getTranslate(L-N,M-O),this.transition({to:U,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},H.getTranslate=function(L,M){var N=this.layout._getOption("originLeft"),O=this.layout._getOption("originTop");return L=N?L:-L,M=O?M:-M,"translate3d("+L+"px, "+M+"px, 0)"},H.goTo=function(L,M){this.setPosition(L,M),this.layoutPosition()},H.moveTo=H._transitionTo,H.setPosition=function(L,M){this.position.x=parseInt(L,10),this.position.y=parseInt(M,10)},H._nonTransition=function(L){for(var M in this.css(L.to),L.isCleaning&&this._removeStyles(L.to),L.onTransitionEnd)L.onTransitionEnd[M].call(this)},H.transition=function(L){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(L);var M=this._transn;for(var N in L.onTransitionEnd)M.onEnd[N]=L.onTransitionEnd[N];for(N in L.to)M.ingProperties[N]=!0,L.isCleaning&&(M.clean[N]=!0);if(L.from){this.css(L.from);this.element.offsetHeight}this.enableTransition(L.to),this.css(L.to),this.isTransitioning=!0};var I="opacity,"+function(L){return L.replace(/([A-Z])/g,function(M){return"-"+M.toLowerCase()})}(D);H.enableTransition=function(){if(!this.isTransitioning){var L=this.layout.options.transitionDuration;L="number"==typeof L?L+"ms":L,this.css({transitionProperty:I,transitionDuration:L,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(F,this,!1)}},H.onwebkitTransitionEnd=function(L){this.ontransitionend(L)},H.onotransitionend=function(L){this.ontransitionend(L)};var J={"-webkit-transform":"transform"};H.ontransitionend=function(L){if(L.target===this.element){var M=this._transn,N=J[L.propertyName]||L.propertyName;if(delete M.ingProperties[N],q(M.ingProperties)&&this.disableTransition(),N in M.clean&&(this.element.style[L.propertyName]="",delete M.clean[N]),N in M.onEnd){var O=M.onEnd[N];O.call(this),delete M.onEnd[N]}this.emitEvent("transitionEnd",[this])}},H.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(F,this,!1),this.isTransitioning=!1},H._removeStyles=function(L){var M={};for(var N in L)M[N]="";this.css(M)};var K={transitionProperty:"",transitionDuration:"",transitionDelay:""};return H.removeTransitionStyles=function(){this.css(K)},H.stagger=function(L){L=isNaN(L)?0:L,this.staggerDelay=L+"ms"},H.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},H.remove=function(){return C&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},H.reveal=function(){delete this.isHidden,this.css({display:""});var L=this.layout.options,M={},N=this.getHideRevealTransitionEndProperty("visibleStyle");M[N]=this.onRevealTransitionEnd,this.transition({from:L.hiddenStyle,to:L.visibleStyle,isCleaning:!0,onTransitionEnd:M})},H.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},H.getHideRevealTransitionEndProperty=function(L){var M=this.layout.options[L];if(M.opacity)return"opacity";for(var N in M)return N},H.hide=function(){this.isHidden=!0,this.css({display:""});var L=this.layout.options,M={},N=this.getHideRevealTransitionEndProperty("hiddenStyle");M[N]=this.onHideTransitionEnd,this.transition({from:L.visibleStyle,to:L.hiddenStyle,isCleaning:!0,onTransitionEnd:M})},H.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},H.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},w}),function(j,k){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(q,w,A,B){return k(j,q,w,A,B)}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=k(j,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):j.Outlayer=k(j,j.EvEmitter,j.getSize,j.fizzyUIUtils,j.Outlayer.Item)}(window,function(j,k,q,w,A){"use strict";function B(M,N){var O=w.getQueryElement(M);if(!O)return void(F&&F.error("Bad element for "+this.constructor.namespace+": "+(O||M)));this.element=O,G&&(this.$element=G(this.element)),this.options=w.extend({},this.constructor.defaults),this.option(N);var P=++I;this.element.outlayerGUID=P,J[P]=this,this._create();var Q=this._getOption("initLayout");Q&&this.layout()}function C(M){function N(){M.apply(this,arguments)}return N.prototype=Object.create(M.prototype),N.prototype.constructor=N,N}function D(M){if("number"==typeof M)return M;var N=M.match(/(^\d*\.?\d*)(\w*)/),O=N&&N[1],P=N&&N[2];if(!O.length)return 0;O=parseFloat(O);var Q=L[P]||1;return O*Q}var F=j.console,G=j.jQuery,H=function(){},I=0,J={};B.namespace="outlayer",B.Item=A,B.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var K=B.prototype;w.extend(K,k.prototype),K.option=function(M){w.extend(this.options,M)},K._getOption=function(M){var N=this.constructor.compatOptions[M];return N&&void 0!==this.options[N]?this.options[N]:this.options[M]},B.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},K._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),w.extend(this.element.style,this.options.containerStyle);var M=this._getOption("resize");M&&this.bindResize()},K.reloadItems=function(){this.items=this._itemize(this.element.children)},K._itemize=function(M){for(var N=this._filterFindItemElements(M),O=this.constructor.Item,P=[],Q=0;Q<N.length;Q++){var R=N[Q],S=new O(R,this);P.push(S)}return P},K._filterFindItemElements=function(M){return w.filterFindElements(M,this.options.itemSelector)},K.getItemElements=function(){return this.items.map(function(M){return M.element})},K.layout=function(){this._resetLayout(),this._manageStamps();var M=this._getOption("layoutInstant"),N=void 0===M?!this._isLayoutInited:M;this.layoutItems(this.items,N),this._isLayoutInited=!0},K._init=K.layout,K._resetLayout=function(){this.getSize()},K.getSize=function(){this.size=q(this.element)},K._getMeasurement=function(M,N){var O,P=this.options[M];P?("string"==typeof P?O=this.element.querySelector(P):P instanceof HTMLElement&&(O=P),this[M]=O?q(O)[N]:P):this[M]=0},K.layoutItems=function(M,N){M=this._getItemsForLayout(M),this._layoutItems(M,N),this._postLayout()},K._getItemsForLayout=function(M){return M.filter(function(N){return!N.isIgnored})},K._layoutItems=function(M,N){if(this._emitCompleteOnItems("layout",M),M&&M.length){var O=[];M.forEach(function(P){var Q=this._getItemLayoutPosition(P);Q.item=P,Q.isInstant=N||P.isLayoutInstant,O.push(Q)},this),this._processLayoutQueue(O)}},K._getItemLayoutPosition=function(){return{x:0,y:0}},K._processLayoutQueue=function(M){this.updateStagger(),M.forEach(function(N,O){this._positionItem(N.item,N.x,N.y,N.isInstant,O)},this)},K.updateStagger=function(){var M=this.options.stagger;return null===M||void 0===M?void(this.stagger=0):(this.stagger=D(M),this.stagger)},K._positionItem=function(M,N,O,P,Q){P?M.goTo(N,O):(M.stagger(Q*this.stagger),M.moveTo(N,O))},K._postLayout=function(){this.resizeContainer()},K.resizeContainer=function(){var M=this._getOption("resizeContainer");if(M){var N=this._getContainerSize();N&&(this._setContainerMeasure(N.width,!0),this._setContainerMeasure(N.height,!1))}},K._getContainerSize=H,K._setContainerMeasure=function(M,N){if(void 0!==M){var O=this.size;O.isBorderBox&&(M+=N?O.paddingLeft+O.paddingRight+O.borderLeftWidth+O.borderRightWidth:O.paddingBottom+O.paddingTop+O.borderTopWidth+O.borderBottomWidth),M=Math.max(M,0),this.element.style[N?"width":"height"]=M+"px"}},K._emitCompleteOnItems=function(M,N){function O(){Q.dispatchEvent(M+"Complete",null,[N])}function P(){S++,S==R&&O()}var Q=this,R=N.length;if(!N||!R)return void O();var S=0;N.forEach(function(T){T.once(M,P)})},K.dispatchEvent=function(M,N,O){var P=N?[N].concat(O):O;if(this.emitEvent(M,P),G)if(this.$element=this.$element||G(this.element),N){var Q=G.Event(N);Q.type=M,this.$element.trigger(Q,O)}else this.$element.trigger(M,O)},K.ignore=function(M){var N=this.getItem(M);N&&(N.isIgnored=!0)},K.unignore=function(M){var N=this.getItem(M);N&&delete N.isIgnored},K.stamp=function(M){M=this._find(M),M&&(this.stamps=this.stamps.concat(M),M.forEach(this.ignore,this))},K.unstamp=function(M){M=this._find(M),M&&M.forEach(function(N){w.removeFrom(this.stamps,N),this.unignore(N)},this)},K._find=function(M){return M?("string"==typeof M&&(M=this.element.querySelectorAll(M)),M=w.makeArray(M)):void 0},K._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},K._getBoundingRect=function(){var M=this.element.getBoundingClientRect(),N=this.size;this._boundingRect={left:M.left+N.paddingLeft+N.borderLeftWidth,top:M.top+N.paddingTop+N.borderTopWidth,right:M.right-(N.paddingRight+N.borderRightWidth),bottom:M.bottom-(N.paddingBottom+N.borderBottomWidth)}},K._manageStamp=H,K._getElementOffset=function(M){var N=M.getBoundingClientRect(),O=this._boundingRect,P=q(M),Q={left:N.left-O.left-P.marginLeft,top:N.top-O.top-P.marginTop,right:O.right-N.right-P.marginRight,bottom:O.bottom-N.bottom-P.marginBottom};return Q},K.handleEvent=w.handleEvent,K.bindResize=function(){j.addEventListener("resize",this),this.isResizeBound=!0},K.unbindResize=function(){j.removeEventListener("resize",this),this.isResizeBound=!1},K.onresize=function(){this.resize()},w.debounceMethod(B,"onresize",100),K.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},K.needsResizeLayout=function(){var M=q(this.element),N=this.size&&M;return N&&M.innerWidth!==this.size.innerWidth},K.addItems=function(M){var N=this._itemize(M);return N.length&&(this.items=this.items.concat(N)),N},K.appended=function(M){var N=this.addItems(M);N.length&&(this.layoutItems(N,!0),this.reveal(N))},K.prepended=function(M){var N=this._itemize(M);if(N.length){var O=this.items.slice(0);this.items=N.concat(O),this._resetLayout(),this._manageStamps(),this.layoutItems(N,!0),this.reveal(N),this.layoutItems(O)}},K.reveal=function(M){if(this._emitCompleteOnItems("reveal",M),M&&M.length){var N=this.updateStagger();M.forEach(function(O,P){O.stagger(P*N),O.reveal()})}},K.hide=function(M){if(this._emitCompleteOnItems("hide",M),M&&M.length){var N=this.updateStagger();M.forEach(function(O,P){O.stagger(P*N),O.hide()})}},K.revealItemElements=function(M){var N=this.getItems(M);this.reveal(N)},K.hideItemElements=function(M){var N=this.getItems(M);this.hide(N)},K.getItem=function(M){for(var O,N=0;N<this.items.length;N++)if(O=this.items[N],O.element==M)return O},K.getItems=function(M){M=w.makeArray(M);var N=[];return M.forEach(function(O){var P=this.getItem(O);P&&N.push(P)},this),N},K.remove=function(M){var N=this.getItems(M);this._emitCompleteOnItems("remove",N),N&&N.length&&N.forEach(function(O){O.remove(),w.removeFrom(this.items,O)},this)},K.destroy=function(){var M=this.element.style;M.height="",M.position="",M.width="",this.items.forEach(function(O){O.destroy()}),this.unbindResize();var N=this.element.outlayerGUID;delete J[N],delete this.element.outlayerGUID,G&&G.removeData(this.element,this.constructor.namespace)},B.data=function(M){M=w.getQueryElement(M);var N=M&&M.outlayerGUID;return N&&J[N]},B.create=function(M,N){var O=C(B);return O.defaults=w.extend({},B.defaults),w.extend(O.defaults,N),O.compatOptions=w.extend({},B.compatOptions),O.namespace=M,O.data=B.data,O.Item=C(A),w.htmlInit(O,M),G&&G.bridget&&G.bridget(M,O),O};var L={ms:1,s:1e3};return B.Item=A,B}),function(j,k){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],k):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=k(require("outlayer"),require("get-size")):j.Masonry=k(j.Outlayer,j.getSize)}(window,function(j,k){var q=j.create("masonry");return q.compatOptions.fitWidth="isFitWidth",q.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var w=0;w<this.cols;w++)this.colYs.push(0);this.maxY=0},q.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var w=this.items[0],A=w&&w.element;this.columnWidth=A&&k(A).outerWidth||this.containerWidth}var B=this.columnWidth+=this.gutter,C=this.containerWidth+this.gutter,D=C/B,F=B-C%B,G=F&&1>F?"round":"floor";D=Math[G](D),this.cols=Math.max(D,1)},q.prototype.getContainerWidth=function(){var w=this._getOption("fitWidth"),A=w?this.element.parentNode:this.element,B=k(A);this.containerWidth=B&&B.innerWidth},q.prototype._getItemLayoutPosition=function(w){w.getSize();var A=w.size.outerWidth%this.columnWidth,B=A&&1>A?"round":"ceil",C=Math[B](w.size.outerWidth/this.columnWidth);C=Math.min(C,this.cols);for(var D=this._getColGroup(C),F=Math.min.apply(Math,D),G=D.indexOf(F),H={x:this.columnWidth*G,y:F},I=F+w.size.outerHeight,J=this.cols+1-D.length,K=0;J>K;K++)this.colYs[G+K]=I;return H},q.prototype._getColGroup=function(w){if(2>w)return this.colYs;for(var D,A=[],B=this.cols+1-w,C=0;B>C;C++)D=this.colYs.slice(C,C+w),A[C]=Math.max.apply(Math,D);return A},q.prototype._manageStamp=function(w){var A=k(w),B=this._getElementOffset(w),C=this._getOption("originLeft"),D=C?B.left:B.right,F=D+A.outerWidth,G=Math.floor(D/this.columnWidth);G=Math.max(0,G);var H=Math.floor(F/this.columnWidth);H-=F%this.columnWidth?0:1,H=Math.min(this.cols-1,H);for(var I=this._getOption("originTop"),J=(I?B.top:B.bottom)+A.outerHeight,K=G;H>=K;K++)this.colYs[K]=Math.max(J,this.colYs[K])},q.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var w={height:this.maxY};return this._getOption("fitWidth")&&(w.width=this._getContainerFitWidth()),w},q.prototype._getContainerFitWidth=function(){for(var w=0,A=this.cols;--A&&0===this.colYs[A];)w++;return(this.cols-w)*this.columnWidth-this.gutter},q.prototype.needsResizeLayout=function(){var w=this.containerWidth;return this.getContainerWidth(),w!=this.containerWidth},q});